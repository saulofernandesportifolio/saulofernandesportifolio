<?php
  
  require_once '../fixa/site/classes/cripto.php';

  $cripto = new cripto();

?>

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.dataTables.js"></script>
<script type="text/javascript" src="js/datatables.min.js"></script>

<!--lib export-->
<link rel="stylesheet" type="text/css" media="screen"  href="js/media/css/demo_page.css" />
<link rel="stylesheet" type="text/css" media="screen"  href="js/media/css/demo_table.css" />
<link rel="stylesheet" type="text/css" media="screen"  href="css/datatablecss/datatables.min.css">

<div id="margem_temp" style="margin-top: 100px;"></div>


<script type="text/javascript">
$(document).ready(function() {
  
  //$('#jsontable').dataTable( {
   //     "ajax": 'arrays.txt'
   // } );

  var oTable = $('#tabela3').dataTable({
        "oLanguage": {
        "sProcessing": "Aguarde enquanto os dados s&atilde;o carregados ...",
        "sLengthMenu": "Mostrar _MENU_ registros por pagina",
        "sZeroRecords": "Nenhum registro encontrado",
        "sInfoEmtpy": "Exibindo 0 a 0 de 0 registros",
        "sInfo": "Exibindo de _START_ a _END_ de _TOTAL_ registros",
        "sInfoFiltered": "",
        "sSearch": "Procurar",
        "oPaginate": {
           "sFirst":    " Primeiro ",
           "sPrevious": " Anterior ",
           "sNext":     " Próximo ",
           "sLast":     " Anterior "
        }
      }, 
      "processing": true,
      "dom": 'lBfrtip',
      "buttons": [
            {
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'excel',
                    'csv'
                ]
            }
        ]     
  });  //Initialize the datatable



  $(window).load(function(){
    var user = $(this).attr('id');
   
    $.ajax({
        url: 'sql_form_pre_tramitacao.php?method=fetchdata',
        dataType: 'json',
        type:'post',
        success: function(s){
        //console.log(s);
            oTable.fnClearTable();
              for(var i = 0; i < s.length; i++) {
                           oTable.fnAddData([
                                      s[i][0],
                                      s[i][1],
                                      s[i][2],
                                      s[i][3],
                                      s[i][4],
                                      s[i][5],
                                      s[i][6],
                                      s[i][7],
                                      s[i][8],
                                      s[i][9],
                                      s[i][10],
                                      s[i][11],
                                      s[i][12],
                                      s[i][13],
                                      s[i][14],
                                      s[i][15],
                                      s[i][16],
                                      s[i][17],
                                      s[i][18],
                                      s[i][19],
                                      s[i][20]
                               ]);                    
                      } // End For
                      
        },
        error: function(e){
           //console.log(e.responseText); 
        }
      });
  });
});
</script>



<table border="0" id="tabela3"  width="auto" class="display table_tramitacao">
        <thead>
            <tr>
               <th style="width: 60px;">Data</th>
               <th style="width: 110px;">Analista</th>
               <th style="width: 40px;">Siscom</th>
               <th style="width: 45px;">Categ. Prod.</th>
               <th style="width: 50px;">Devolução</th>
               <th style="width: 115px;">Canal Entrada</th>
               <th style="width: 60px;">Data Receb. da Solicitação</th>
               <th style="width: 40px;">Nº Pac. Siscom</th>
               <th style="width: 76px;">Prod.</th>
               <th style="width: 122px;">Tipo Solicitação</th>
               <th style="width: 80px;">Serviços</th>
               <th style="width: 83px;">Cnpj</th>
               <th style="width: 45px;">Razão Social</th>
               <th style="width: 45px;">Qtde Acessos</th>
               <th style="width: 110px;">Nº GS</th>
               <th style="width: 110px;">Data Abert. Gestão</th>
               <th style="width: 110px;">Motivo Devolução</th>
               <th style="width: 110px;">Área Devolução</th>
               <th style="width: 110px;">Data Devolução</th>
               <th style="width: 110px;">Status</th>
               <th style="width: 110px;">Obs</th>
            </tr>
        </thead>
    </table>
</div>
   